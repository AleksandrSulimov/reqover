<div class="accordion-item">
    <h2 class="accordion-header" id="heading-<%= index %>">
        <button
            class="accordion-button"
            type="button"
            data-bs-toggle="collapse"
            data-bs-target="#collapse-<%= index %>"
            aria-expanded="true"
            aria-controls="collapse-<%= index %>"
        >
            <div class="row w-100">
                <div class="col-7 api-path">
                    <span> <%= item.method %> </span>
                    <%= item.path %>
                </div>
                <div class="col-2"><%= item.requests %> calls</div>
                <div class="col-2">
                    <div class="progress">
                        <div
                            class="progress-bar progress-bar-striped bg-<%= item.status %>"
                            role="progressbar"
                            style="width: <%= item.coverage %>%"
                            aria-valuenow=""
                            aria-valuemin="0"
                            aria-valuemax="100"
                        >
                            <%= item.coverage %>
                        </div>
                    </div>
                </div>
            </div>
        </button>
    </h2>
    <div id="collapse-<%= index %>" class="accordion-collapse collapse" aria-labelledby="heading-<%= index %>" data-bs-parent="#accordionExample">
        <div class="accordion-body">
            <div class="card">
                <div class="card-header">Status codes:</div>
                <ul class="list-group list-group-flush">
                    <% item.responses.missed.forEach(function(resp) { %>
                    <li class="list-group-item list-group-item-danger">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-bug-fill" viewBox="0 0 16 16">
                            <path
                                d="M4.978.855a.5.5 0 1 0-.956.29l.41 1.352A4.985 4.985 0 0 0 3 6h10a4.985 4.985 0 0 0-1.432-3.503l.41-1.352a.5.5 0 1 0-.956-.29l-.291.956A4.978 4.978 0 0 0 8 1a4.979 4.979 0 0 0-2.731.811l-.29-.956z"
                            />
                            <path
                                d="M13 6v1H8.5v8.975A5 5 0 0 0 13 11h.5a.5.5 0 0 1 .5.5v.5a.5.5 0 1 0 1 0v-.5a1.5 1.5 0 0 0-1.5-1.5H13V9h1.5a.5.5 0 0 0 0-1H13V7h.5A1.5 1.5 0 0 0 15 5.5V5a.5.5 0 0 0-1 0v.5a.5.5 0 0 1-.5.5H13zm-5.5 9.975V7H3V6h-.5a.5.5 0 0 1-.5-.5V5a.5.5 0 0 0-1 0v.5A1.5 1.5 0 0 0 2.5 7H3v1H1.5a.5.5 0 0 0 0 1H3v1h-.5A1.5 1.5 0 0 0 1 11.5v.5a.5.5 0 1 0 1 0v-.5a.5.5 0 0 1 .5-.5H3a5 5 0 0 0 4.5 4.975z"
                            />
                        </svg>
                        HTTP status <%= resp %>
                    </li>
                    <%});%>
                </ul>
                <ul class="list-group list-group-flush">
                    <% item.responses.covered.forEach(function(resp) { %>
                    <li class="list-group-item list-group-item-success">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-check2" viewBox="0 0 16 16">
                            <path
                                d="M13.854 3.646a.5.5 0 0 1 0 .708l-7 7a.5.5 0 0 1-.708 0l-3.5-3.5a.5.5 0 1 1 .708-.708L6.5 10.293l6.646-6.647a.5.5 0 0 1 .708 0z"
                            />
                        </svg>
                        HTTP status <%= resp %>
                    </li>
                    <%});%>
                </ul>
            </div>
            <% if (item.parameters.missed.length > 0 || item.parameters.covered.length > 0) { %>
            <div class="card mt-3">
                <div class="card-header">Parameters:</div>
                <ul class="list-group list-group-flush">
                    <% item.parameters.missed.forEach(function(param) { %>
                    <li class="list-group-item list-group-item-danger">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-bug-fill" viewBox="0 0 16 16">
                            <path
                                d="M4.978.855a.5.5 0 1 0-.956.29l.41 1.352A4.985 4.985 0 0 0 3 6h10a4.985 4.985 0 0 0-1.432-3.503l.41-1.352a.5.5 0 1 0-.956-.29l-.291.956A4.978 4.978 0 0 0 8 1a4.979 4.979 0 0 0-2.731.811l-.29-.956z"
                            />
                            <path
                                d="M13 6v1H8.5v8.975A5 5 0 0 0 13 11h.5a.5.5 0 0 1 .5.5v.5a.5.5 0 1 0 1 0v-.5a1.5 1.5 0 0 0-1.5-1.5H13V9h1.5a.5.5 0 0 0 0-1H13V7h.5A1.5 1.5 0 0 0 15 5.5V5a.5.5 0 0 0-1 0v.5a.5.5 0 0 1-.5.5H13zm-5.5 9.975V7H3V6h-.5a.5.5 0 0 1-.5-.5V5a.5.5 0 0 0-1 0v.5A1.5 1.5 0 0 0 2.5 7H3v1H1.5a.5.5 0 0 0 0 1H3v1h-.5A1.5 1.5 0 0 0 1 11.5v.5a.5.5 0 1 0 1 0v-.5a.5.5 0 0 1 .5-.5H3a5 5 0 0 0 4.5 4.975z"
                            />
                        </svg>
                        Request parameter {<%= param %>}
                    </li>
                    <%});%>
                </ul>
                <ul class="list-group list-group-flush">
                    <% item.parameters.covered.forEach(function(param) { %>
                    <li class="list-group-item list-group-item-success">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-check2" viewBox="0 0 16 16">
                            <path
                                d="M13.854 3.646a.5.5 0 0 1 0 .708l-7 7a.5.5 0 0 1-.708 0l-3.5-3.5a.5.5 0 1 1 .708-.708L6.5 10.293l6.646-6.647a.5.5 0 0 1 .708 0z"
                            />
                        </svg>
                        Request parameter {<%= param %>}
                    </li>
                    <%});%>
                </ul>
            </div>
            <% } %> <% if (Object.keys(item.mergedBody).length !== 0) { %>
            <div class="card mt-3">
                <div class="card-header">Merged Request body:</div>
                <ul class="list-group list-group-flush">
                    <li class="list-group-item list-group-item-success">
                        <pre><%= JSON.stringify(item.mergedBody, null, 2) %></pre>
                    </li>
                </ul>
            </div>
            <% } %>
        </div>
    </div>
</div>
